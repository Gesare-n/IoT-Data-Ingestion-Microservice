<div class="row mb-3">
    <div class="col-md-5">
        <label for="startDate" class="form-label">Start Date</label>
        <input type="date" class="form-control" id="startDate" @bind="StartDate" />
    </div>
    <div class="col-md-5">
        <label for="endDate" class="form-label">End Date</label>
        <input type="date" class="form-control" id="endDate" @bind="EndDate" />
    </div>
    <div class="col-md-2 d-flex align-items-end">
        <button class="btn btn-primary w-100" @onclick="OnDateRangeSelected">Apply</button>
    </div>
</div>

@code {
    private DateTime startDate = DateTime.Today.AddDays(-7);
    private DateTime endDate = DateTime.Today;

    [Parameter]
    public DateTime StartDate
    {
        get => startDate;
        set
        {
            if (value != startDate)
            {
                startDate = value;
                StartDateChanged.InvokeAsync(value);
            }
        }
    }

    [Parameter]
    public DateTime EndDate
    {
        get => endDate;
        set
        {
            if (value != endDate)
            {
                endDate = value;
                EndDateChanged.InvokeAsync(value);
            }
        }
    }

    [Parameter]
    public EventCallback<DateTime> StartDateChanged { get; set; }

    [Parameter]
    public EventCallback<DateTime> EndDateChanged { get; set; }

    [Parameter]
    public EventCallback OnDateRangeSelected { get; set; }

    protected override void OnInitialized()
    {
        // Set default dates
        StartDate = DateTime.Today.AddDays(-7);
        EndDate = DateTime.Today;
    }
}